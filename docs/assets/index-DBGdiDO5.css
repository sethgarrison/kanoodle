:root{font-family:Comic Sans MS,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.5;font-weight:400;color-scheme:light;color:#213547;background-color:#fff;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}*{box-sizing:border-box}body{margin:0;padding:0;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}#root{min-height:100vh}html{scroll-behavior:smooth}::selection{background:#667eea4d;color:#333}button:focus,.grid-cell:focus{outline:2px solid #4a5568;outline-offset:2px}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}::-webkit-scrollbar-thumb{background:linear-gradient(45deg,#ff6b6b,#4ecdc4);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:linear-gradient(45deg,#ff5252,#26a69a)}:root{--accent-primary: #fbbf24;--accent-secondary: #f59e0b;--accent-text: #111827;--background-primary: #000000;--background-secondary: #242b36;--background-tertiary: #1a1d23;--light-text: #d1d5db;--button-background: #000000;--button-hover: #4f46e5;--button-text: white;--button-disabled: #9ca3af;--accent-gradient: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));--background-gradient: linear-gradient(135deg, var(--background-primary), var(--background-secondary));--button-gradient: linear-gradient(135deg, var(--button-background), var(--button-hover));--shadow-light: 0 2px 4px rgba(0, 0, 0, .1);--shadow-medium: 0 4px 8px rgba(0, 0, 0, .2);--shadow-heavy: 0 8px 32px rgba(0, 0, 0, .3);--shadow-inset: inset 0 2px 4px rgba(255, 255, 255, .3);--shadow-text: 2px 2px 4px rgba(0, 0, 0, .5);--border-radius-small: 6px;--border-radius-medium: 12px;--border-radius-large: 20px;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--transition-fast: .2s ease;--transition-medium: .3s ease;--transition-slow: .5s ease}.app{min-height:100vh;background:var(--background-gradient);color:var(--light-text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;display:flex;flex-direction:column}.app-header{text-align:center;padding:var(--spacing-xl) var(--spacing-md);background:var(--accent-gradient);border-radius:0 0 var(--border-radius-large) var(--border-radius-large);box-shadow:var(--shadow-heavy);margin-bottom:var(--spacing-xl)}.nav-kanoodle-lid{background:var(--accent-gradient);border-radius:var(--border-radius-medium);padding:var(--spacing-lg) var(--spacing-xl);text-align:center;position:relative;transform-origin:bottom;transition:transform var(--transition-medium);margin:0 auto;max-width:400px}.nav-kanoodle-lid:hover{transform:rotateX(5deg)}.nav-kanoodle-title{color:var(--accent-text);font-size:2.5rem;font-weight:900;text-shadow:var(--shadow-text);letter-spacing:2px;margin:0 0 var(--spacing-sm) 0}.nav-kanoodle-subtitle{color:var(--accent-text);font-size:1.1rem;font-weight:600;margin:0;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.app-main{max-width:1400px;margin:0 auto;padding:0 var(--spacing-md);flex:1;width:100%}.game-container{display:grid;grid-template-columns:1fr 1fr;gap:var(--spacing-xl);margin-bottom:var(--spacing-xl);height:calc(100vh - 200px);min-height:600px}@media (max-width: 768px){.game-container{grid-template-columns:1fr;height:auto;min-height:auto;gap:var(--spacing-lg)}}.grid-section,.pieces-section,.controls-section{background:#1f2937f2;border-radius:var(--border-radius-large);padding:var(--spacing-md);box-shadow:var(--shadow-heavy);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.section-title{font-size:1.5rem;margin:0 0 var(--spacing-sm) 0;color:var(--accent-primary);text-align:center}.app-footer{text-align:center;padding:var(--spacing-lg);color:var(--light-text);font-size:.875rem}.solved-banner{background:var(--accent-gradient);color:var(--accent-text);padding:var(--spacing-md);border-radius:var(--border-radius-medium);margin-top:var(--spacing-md);font-weight:600;text-align:center;animation:pulse 2s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.8}}@media (max-width: 768px){.app{padding:0;height:100vh;overflow:hidden}.app-header{padding:var(--spacing-sm);margin-bottom:var(--spacing-sm);border-radius:0 0 15px 15px}.nav-kanoodle-lid{max-width:300px;padding:var(--spacing-md) var(--spacing-lg)}.nav-kanoodle-title{font-size:1.8rem;letter-spacing:1px}.nav-kanoodle-subtitle{font-size:.9rem}.app-main{flex:1;padding:var(--spacing-sm);overflow:hidden;display:flex;flex-direction:column}.game-container{flex:1;display:flex;flex-direction:column;gap:var(--spacing-sm);overflow:hidden}.grid-section,.pieces-section,.controls-section{flex-shrink:0}.section-title{font-size:1.1rem;margin-bottom:var(--spacing-sm)}}@media (max-width: 480px){.nav-kanoodle-lid{max-width:250px;padding:var(--spacing-sm) var(--spacing-md)}.nav-kanoodle-title{font-size:1.4rem;letter-spacing:.5px}.nav-kanoodle-subtitle{font-size:.8rem}}.grid-container{display:grid;grid-template-rows:repeat(5,1fr);gap:4px;background:var(--background-secondary);padding:var(--spacing-lg);border-radius:var(--border-radius-small);box-shadow:inset 0 4px 8px #0006,var(--shadow-medium);margin:var(--spacing-md) 0;position:relative}.grid-container:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.1) 0%,transparent 50%);border-radius:var(--border-radius-small);pointer-events:none}.grid-row{display:grid;grid-template-columns:repeat(11,1fr);gap:4px}.grid-cell{aspect-ratio:1;border-radius:50%;border:2px solid var(--background-primary);display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;transition:all var(--transition-medium);cursor:pointer;position:relative;overflow:hidden;background:radial-gradient(circle at 30% 30%,var(--background-tertiary),var(--background-secondary));box-shadow:inset 0 2px 4px #0006,var(--shadow-light)}.grid-cell:hover{transform:scale(1.1);box-shadow:inset 0 2px 4px #0006,var(--shadow-medium);z-index:10}.grid-cell:active{transform:scale(.95)}.grid-cell.drag-over{background:radial-gradient(circle at 30% 30%,#38b2ac,#319795);border-color:#38b2ac;transform:scale(1.1);box-shadow:0 0 0 3px #38b2ac4d}.grid-cell.drop-zone{background:radial-gradient(circle at 30% 30%,#10b981,#059669);border-color:#10b981;animation:dropPulse 1s infinite}.grid-cell.drop-zone-preview{background:radial-gradient(circle at 30% 30%,var(--piece-color, var(--accent-primary)),var(--piece-color-dark, var(--accent-secondary)));border-color:var(--piece-color-dark, var(--accent-secondary));animation:dropZonePulse 1.5s infinite}.grid-cell.drop-preview-cell{background:radial-gradient(circle at 30% 30%,var(--piece-color, var(--accent-primary)),var(--piece-color-dark, var(--accent-secondary)));border-color:var(--piece-color-dark, var(--accent-secondary));animation:dropPreviewPulse .8s infinite}@keyframes dropPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes dropZonePulse{0%,to{transform:scale(1);box-shadow:0 0 0 2px #f59e0b4d}50%{transform:scale(1.1);box-shadow:0 0 0 4px #f59e0b80}}@keyframes dropPreviewPulse{0%,to{transform:scale(1);opacity:.4}50%{transform:scale(1.05);opacity:.6}}.grid-cell.filled{background:radial-gradient(circle at 30% 30%,var(--piece-color, var(--accent-primary)),var(--piece-color-dark, var(--accent-secondary)));border-color:var(--piece-color-dark, var(--accent-secondary));box-shadow:inset 0 2px 4px #0000004d,var(--shadow-medium);position:relative;cursor:pointer}.grid-cell.filled:before{content:"";position:absolute;top:20%;left:20%;right:20%;bottom:20%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.4),transparent);border-radius:50%;pointer-events:none}.grid-cell.filled:hover{transform:scale(1.05);box-shadow:inset 0 2px 4px #0000004d,0 4px 8px #0000004d;z-index:5}.grid-info{background:var(--background-primary);border-radius:var(--border-radius-small);padding:var(--spacing-md);margin-bottom:var(--spacing-md);text-align:center}.grid-info p{margin:var(--spacing-xs) 0;color:var(--light-text)}.hint-status{color:var(--accent-primary)!important;font-weight:600;animation:hintPulse 2s infinite}@media (max-width: 768px){.grid-container{max-width:100%;max-height:50vh;padding:4px;gap:2px}.grid-cell{border-width:1px;font-size:.6rem}}@media (max-width: 480px){.grid-container{max-width:100%;max-height:45vh;padding:2px;gap:1px}.grid-cell{border-width:1px;font-size:.5rem}}@media (hover: none) and (pointer: coarse){.grid-cell{min-height:24px;min-width:24px}}.pieces-container{margin-top:var(--spacing-sm);max-height:60vh;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}.pieces-container::-webkit-scrollbar{display:none}.pieces-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--spacing-sm);margin-top:var(--spacing-sm)}.piece-display{background:#1f2937e6;border-radius:var(--border-radius-medium);padding:var(--spacing-md);text-align:center;cursor:pointer;transition:all var(--transition-medium);position:relative;box-shadow:var(--shadow-medium)}.piece-display:hover{transform:translateY(-2px);box-shadow:var(--shadow-heavy);border-color:var(--accent-primary)}.piece-display:active{transform:translateY(0)}.piece-display.selected{box-shadow:0 0 0 3px #fbbf244d;background:#fbbf241a}.piece-display.unavailable{opacity:.5;cursor:not-allowed;background:#9ca3af4d}.piece-display.unavailable:hover{transform:none;box-shadow:var(--shadow-medium)}.piece-display[draggable=true]:hover{cursor:grab}.piece-display[draggable=true]:active{cursor:grabbing}.piece-controls{display:flex;justify-content:center;gap:var(--spacing-sm);margin-top:var(--spacing-sm)}.rotate-button,.flip-button{background:var(--button-background);color:var(--button-text);border:none;border-radius:var(--border-radius-small);padding:var(--spacing-xs) var(--spacing-sm);font-size:.75rem;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;min-width:32px;height:32px}.rotate-button:hover,.flip-button:hover{background:var(--button-hover);transform:scale(1.05)}.rotate-button:active,.flip-button:active{transform:scale(.95)}.rotation-hint{font-size:.7rem;color:var(--light-text);margin-top:var(--spacing-xs);opacity:.8}.piece-grid{display:grid;gap:2px;margin:var(--spacing-sm) auto;justify-content:center}.piece-row{display:flex;gap:2px}.piece-cell{width:16px;height:16px;aspect-ratio:1;border-radius:50%;border:2px solid var(--background-primary);display:flex;align-items:center;justify-content:center;transition:all var(--transition-medium);position:relative;overflow:hidden;background:radial-gradient(circle at 30% 30%,var(--background-tertiary),var(--background-secondary));box-shadow:inset 0 2px 4px #0006,var(--shadow-light)}.piece-cell.filled{background:radial-gradient(circle at 30% 30%,var(--piece-color, var(--accent-primary)),var(--piece-color-dark, var(--accent-secondary)));border-color:var(--piece-color-dark, var(--accent-secondary));box-shadow:inset 0 2px 4px #0006,var(--shadow-light)}.selected-piece-info{background:#1f2937cc;border-radius:var(--border-radius-small);padding:var(--spacing-md);margin-top:var(--spacing-md);text-align:center}.hint-piece-display{margin:var(--spacing-md) 0;text-align:center}@media (max-width: 768px){.pieces-container{max-height:50vh}.pieces-grid{grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:var(--spacing-xs)}.piece-display{padding:var(--spacing-xs)}.rotate-button,.flip-button{min-width:28px;height:28px;font-size:.7rem}.piece-cell{width:10px;height:10px}}@media (max-width: 480px){.pieces-container{max-height:45vh}.pieces-grid{grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:4px}.piece-display{padding:6px}.rotate-button,.flip-button{min-width:24px;height:24px;font-size:.6rem}.piece-cell{width:8px;height:8px}}@media (hover: none) and (pointer: coarse){.piece-display{min-height:60px}}.draggable-piece{cursor:grab;-webkit-user-select:none;user-select:none;touch-action:none}.draggable-piece .piece-controls{pointer-events:auto;-webkit-user-select:none;user-select:none;touch-action:auto}.draggable-piece .rotate-button,.draggable-piece .flip-button{pointer-events:auto;-webkit-user-select:none;user-select:none;touch-action:auto;z-index:10}.drag-overlay{pointer-events:none;z-index:1000}.drag-overlay .piece-display{transform:scale(.8);opacity:.2;box-shadow:0 4px 12px #0000004d}.grid-cell.drag-over{background:#3b82f633;border:2px dashed #3b82f6}.piece-wrapper{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-xs)}.piece-wrapper .piece-controls{display:flex;justify-content:center;gap:var(--spacing-xs);margin-top:var(--spacing-xs)}.piece-wrapper .rotate-button,.piece-wrapper .flip-button{background:var(--button-background);color:var(--button-text);border:none;border-radius:var(--border-radius-small);padding:var(--spacing-xs);font-size:.7rem;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center;min-width:28px;height:28px}.piece-wrapper .rotate-button:hover,.piece-wrapper .flip-button:hover{background:var(--button-hover);transform:scale(1.05)}.piece-wrapper .rotate-button:active,.piece-wrapper .flip-button:active{transform:scale(.95)}.draggable-piece{cursor:grab;transition:all var(--transition-medium)}.draggable-piece:hover{transform:translateY(-2px)}.draggable-piece.dragging{cursor:grabbing;opacity:.2}.clickable-piece{cursor:pointer;transition:all var(--transition-medium)}.clickable-piece:hover{transform:translateY(-2px)}.clickable-piece.selected{box-shadow:0 0 0 3px #fbbf244d;background:#fbbf241a}.drag-overlay{background:#1f293733;border-radius:var(--border-radius-medium);padding:var(--spacing-md);box-shadow:var(--shadow-heavy);border:2px solid var(--accent-primary)}.drag-overlay .piece-display{background:transparent;box-shadow:none;padding:var(--spacing-sm)}.drag-overlay .piece-grid{gap:3px}.drag-overlay .piece-cell{width:20px;height:20px}.kanoodle-container{background:var(--background-primary);border-radius:var(--border-radius-large);padding:var(--spacing-xl);box-shadow:var(--shadow-heavy),inset 0 2px 4px #ffffff1a;position:relative;margin:var(--spacing-xl) auto;max-width:800px}.kanoodle-lid{background:var(--accent-gradient);border-radius:var(--border-radius-medium) var(--border-radius-medium) 0 0;padding:var(--spacing-lg) var(--spacing-xl);text-align:center;margin:calc(-1 * var(--spacing-xl)) calc(-1 * var(--spacing-xl)) var(--spacing-xl) calc(-1 * var(--spacing-xl));box-shadow:var(--shadow-medium),var(--shadow-inset);position:relative;transform-origin:bottom;transition:transform var(--transition-medium)}.kanoodle-lid:hover{transform:rotateX(5deg)}.kanoodle-title{color:var(--accent-text);font-size:2rem;font-weight:900;text-shadow:var(--shadow-text);letter-spacing:2px;margin:0}@media (max-width: 768px){.kanoodle-container{max-width:100%;max-height:60vh;margin:0 auto;padding:8px;border-radius:15px}.kanoodle-lid{padding:var(--spacing-sm) var(--spacing-md)}.kanoodle-title{font-size:1rem;letter-spacing:1px}}@media (max-width: 480px){.kanoodle-container{max-width:100%;max-height:55vh;margin:0 auto;padding:6px;border-radius:12px}.kanoodle-lid{padding:var(--spacing-xs) var(--spacing-sm)}.kanoodle-title{font-size:.9rem;letter-spacing:.5px}}.simple-controls{display:flex;justify-content:flex-end;gap:8px;margin-top:0;margin-bottom:4px}.control-link{color:var(--accent-primary);font-size:.9rem;font-weight:500;text-decoration:underline;background:none;border:none;padding:2px 8px;cursor:pointer}.control-link:hover,.control-link:focus{color:var(--accent-secondary);background:var(--background-tertiary)}.hint-panel{background:#1f2937f2;border-radius:var(--border-radius-medium);padding:var(--spacing-lg);margin-top:var(--spacing-md)}.hint-panel h3{color:var(--accent-primary);margin:0 0 var(--spacing-md) 0;font-size:1.1rem}.current-hint{background:#fbbf241a;border-radius:var(--border-radius-small);padding:var(--spacing-md);margin-bottom:var(--spacing-md)}.current-hint p{margin:0;color:var(--light-text)}.hint-actions{display:flex;gap:var(--spacing-sm);justify-content:center}.hint-button{background:var(--button-background);color:var(--button-text);border:none;border-radius:var(--border-radius-small);padding:var(--spacing-sm) var(--spacing-md);font-size:.8rem;cursor:pointer;transition:all var(--transition-fast);font-weight:500}.hint-button:hover{background:var(--button-hover);transform:scale(1.05)}.hint-button:active{transform:scale(.95)}.hint-preview{background:#1f2937cc;border-radius:var(--border-radius-small);padding:var(--spacing-md);margin-top:var(--spacing-md);text-align:center}.hint-preview h4{color:var(--accent-primary);margin:0 0 var(--spacing-sm) 0;font-size:1rem}.hint-piece-display .piece-display{display:inline-block;margin:0 auto}.hint-piece-display .piece-display .rotate-button,.hint-piece-display .piece-display .flip-button{display:none}.hint-preview-cell{background:radial-gradient(circle at 30% 30%,var(--piece-color, var(--accent-primary)),var(--piece-color-dark, var(--accent-secondary)));border:1px solid var(--piece-color-dark, var(--accent-secondary))}@keyframes hintPulse{0%,to{opacity:1}50%{opacity:.7}}.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;overflow:hidden}.confetti-piece{position:absolute;width:10px;height:10px;animation:confettiFall 3s linear forwards}.confetti-piece.circle{border-radius:50%}.confetti-piece.square{border-radius:2px}@keyframes confettiFall{0%{transform:translateY(-100vh) rotate(0);opacity:1}to{transform:translateY(100vh) rotate(720deg);opacity:0}}.pieces-section{flex:1 1 0%;min-height:0;max-height:80vh;display:flex;flex-direction:column;justify-content:flex-start}.pieces-container{max-height:75vh;overflow-y:auto;overflow-x:hidden;position:relative}.pieces-container:after{content:"⇅";position:absolute;right:8px;bottom:8px;font-size:1.2rem;color:var(--accent-primary);opacity:.3;pointer-events:none;z-index:10}.pieces-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:var(--spacing-md);margin-top:var(--spacing-xs);width:100%;box-sizing:border-box}.piece-display{font-size:1.1rem}.piece-cell{width:22px;height:22px}
